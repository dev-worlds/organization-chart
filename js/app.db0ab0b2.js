(function(){"use strict";var e={1560:function(e,t,n){var r=n(9242),a=n(3396);function o(e,t){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(n)}var i=n(89);const s={},c=(0,i.Z)(s,[["render",o]]);var l=c,d=n(5431);(0,d.z)("/organization-chart/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var v=n(2483),u=n(4870),g=n(7139),h=(n(7658),n(65));let _=[{name:"Руководство",children:[{name:"Отдел 1",children:[{name:"Отдел 2"},{name:"Отдел 3"},{name:"Отдел 4"}]},{name:"Отдел 5",children:[{name:"Отдел 6"}]},{name:"Отдел 7"}]}];var p=(0,h.MT)({state:{treeStructure:[]},getters:{getOrgStructure(e){return e.treeStructure}},mutations:{addOrgStructure(e,t){e.treeStructure.push(...t)},changeTreeElms(e,{elm:t,to:n,parentDragElm:r}){if("children"in n){if(n.children.some((e=>e===t)))return}else n.children=[];r.children=r.children.filter((e=>e!==t)),n.children.push(t)}},actions:{loadTreeStructure({commit:e}){setTimeout((()=>{e("addOrgStructure",_)}),3e3)}},modules:{}});const f=["colspan"],m={key:0,class:"chart-lines"},x=["colspan"],w=(0,a._)("div",{class:"chart-line-down"},null,-1),y=[w],b={key:1,class:"chart-lines",style:{visibility:"inherit"}},k={key:0},D=(0,a._)("div",{class:"chart-line-down"},null,-1),O=[D],S={key:2,class:"chart-nodes"},E={colspan:"2"};var T={__name:"TreeChart",props:{data:{type:Object,default:()=>({})},parent:{type:Object,default:null}},emits:["dragStart","dragEnd","dragOver","dragEnter","dragLeave","dropEvent"],setup(e,{emit:t}){const n=e;(0,a.bv)((()=>{o.value.tree=n.data}));const o=(0,u.iH)(null),i=(0,u.iH)(null),s=e=>{const n=e.changedTouches[0];i.value.style.zIndex="-1";const r=document.elementFromPoint(n.clientX,n.clientY);i.value.style.position="",i.value.style.top="",i.value.style.left="",i.value.style.zIndex="",r.tree&&t("dropEvent",r.tree)},c=e=>{const t=e.changedTouches[0];i.value.style.position="fixed",i.value.style.top=t.clientY-20+"px",i.value.style.left=t.clientX-Math.round(i.value.offsetWidth/2)+"px"};return(n,l)=>((0,a.wg)(),(0,a.iD)("table",{class:"chart-table",ref_key:"tableItem",ref:i},[(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",{colspan:2*e.data.children?.length||""},[(0,a._)("div",{class:"chart-node-content",draggable:"true",onDragstart:l[0]||(l[0]=n=>t("dragStart",{data:e.data,parent:e.parent})),onDragover:l[1]||(l[1]=(0,r.iM)((()=>{}),["prevent"])),onDragenter:l[2]||(l[2]=(0,r.iM)((()=>{}),["prevent"])),onDrop:l[3]||(l[3]=n=>t("dropEvent",e.data)),onTouchend:s,onTouchstart:l[4]||(l[4]=n=>t("dragStart",{data:e.data,parent:e.parent})),onTouchmove:c,ref_key:"treeItem",ref:o},[(0,a.WI)(n.$slots,"name",{item:e.data})],544)],8,f)]),e.data.children?.length?((0,a.wg)(),(0,a.iD)("tr",m,[(0,a._)("td",{colspan:2*e.data.children?.length},y,8,x)])):(0,a.kq)("",!0),e.data.children?.length?((0,a.wg)(),(0,a.iD)("tr",b,[1===e.data.children.length?((0,a.wg)(),(0,a.iD)("td",k,O)):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(2*e.data.children.length,(t=>((0,a.wg)(),(0,a.iD)("td",{class:(0,g.C_)({"chart-line-left":t%2!==0,"chart-line-right":t%2===0,"chart-line-top":1!==t&&t!==2*e.data.children.length})},"  ",2)))),256))])):(0,a.kq)("",!0),e.data.children?.length?((0,a.wg)(),(0,a.iD)("tr",S,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.children,(n=>((0,a.wg)(),(0,a.iD)("td",E,[(0,a.Wm)(z,{data:n,onDragStart:l[5]||(l[5]=e=>t("dragStart",e)),onDropEvent:l[6]||(l[6]=e=>t("dropEvent",e)),parent:e.data},{name:(0,a.w5)((({item:e})=>[(0,a.Uk)((0,g.zw)(e.name),1)])),_:2},1032,["data","parent"])])))),256))])):(0,a.kq)("",!0)])],512))}};const j=T;var z=j;function H(e,t,n="children"){return!!e&&e.some((e=>e===t||(n in e?H(e[n],t,n):void 0)))}const C=(0,a.uE)('<div class="hexagon" aria-label="Animated hexagonal ripples"><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div></div><p aria-label="Loading">Loading</p>',2);function I(e,t){return C}const M={},q=(0,i.Z)(M,[["render",I]]);var A=q,F={__name:"HomeView",setup(e){(0,a.bv)((()=>{p.dispatch("loadTreeStructure")}));const t=p.getters.getOrgStructure,n=(0,u.iH)(null),r=(0,u.iH)(null),o=({parent:e,data:t})=>{n.value=t,r.value=e},i=e=>{const t=!H(n.value.children,e,"children");t?n.value!==e&&p.commit("changeTreeElms",{elm:n.value,to:e,parentDragElm:r.value}):console.error("Нельзя вкладывать внутрь"),n.value=null,r.value=null};return(e,n)=>(0,u.SU)(t).length?((0,a.wg)(),(0,a.j4)(z,{key:0,data:(0,u.SU)(t)[0],onDragStart:o,onDropEvent:i},{name:(0,a.w5)((({item:e})=>[(0,a.Uk)((0,g.zw)(e.name),1)])),_:1},8,["data"])):((0,a.wg)(),(0,a.j4)(A,{key:1}))}};const P=F;var U=P;const Y=[{path:"/",name:"home",component:U}],L=(0,v.p7)({history:(0,v.PO)("/organization-chart/"),routes:Y});var N=L;(0,r.ri)(l).use(p).use(N).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],o=e[d][2];for(var s=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],s=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var d=c(n)}for(t&&t(r);l<i.length;l++)o=i[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},r=self["webpackChunkorganization_chart"]=self["webpackChunkorganization_chart"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(1560)}));r=n.O(r)})();
//# sourceMappingURL=app.db0ab0b2.js.map