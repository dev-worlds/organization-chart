(function(){"use strict";var e={6428:function(e,t,n){var r=n(9242),a=n(3396);function o(e,t){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(n)}var i=n(89);const s={},c=(0,i.Z)(s,[["render",o]]);var d=c,l=n(5431);(0,l.z)("/organization-chart/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var v=n(2483),u=n(4870),g=n(7139),h=(n(7658),n(65));let _=[{name:"Руководство",children:[{name:"Отдел 1",children:[{name:"Отдел 2"},{name:"Отдел 3"},{name:"Отдел 4"}]},{name:"Отдел 5",children:[{name:"Отдел 6"}]},{name:"Отдел 7"}]}];var p=(0,h.MT)({state:{treeStructure:[]},getters:{getOrgStructure(e){return e.treeStructure}},mutations:{addOrgStructure(e,t){e.treeStructure.push(...t)},changeTreeElms(e,{elm:t,to:n,parentDragElm:r}){if("children"in n){if(n.children.some((e=>e===t)))return}else n.children=[];r.children=r.children.filter((e=>e!==t)),n.children.push(t)}},actions:{loadTreeStructure({commit:e}){setTimeout((()=>{e("addOrgStructure",_)}),3e3)}},modules:{}});const f={class:"chart-table"},m=["colspan"],x={key:0,class:"chart-lines"},w=["colspan"],b=(0,a._)("div",{class:"chart-line-down"},null,-1),y=[b],k={key:1,class:"chart-lines",style:{visibility:"inherit"}},D={key:0},O=(0,a._)("div",{class:"chart-line-down"},null,-1),S=[O],E={key:2,class:"chart-nodes"},j={colspan:"2"};var T={__name:"TreeChart",props:{data:{type:Object,default:()=>{}},parent:{type:Object,default:null}},emits:["dragStart","dragEnd","dragOver","dragEnter","dragLeave","dropEvent"],setup(e,{emit:t}){const n=e;(0,a.bv)((()=>{o.value.tree=n.data}));const o=(0,u.iH)(null),i=e=>{const n=e.changedTouches[0],r=document.elementFromPoint(n.clientX,n.clientY);t("dropEvent",r.tree)};return(n,s)=>((0,a.wg)(),(0,a.iD)("table",f,[(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",{colspan:2*e.data.children?.length||""},[(0,a._)("div",{class:"chart-node-content",draggable:"true",onDragstart:s[0]||(s[0]=n=>t("dragStart",{data:e.data,parent:e.parent})),onDragover:s[1]||(s[1]=(0,r.iM)((()=>{}),["prevent"])),onDragenter:s[2]||(s[2]=(0,r.iM)((()=>{}),["prevent"])),onDrop:s[3]||(s[3]=n=>t("dropEvent",e.data)),onTouchend:i,onTouchstart:s[4]||(s[4]=n=>t("dragStart",{data:e.data,parent:e.parent})),ref_key:"treeItem",ref:o},[(0,a.WI)(n.$slots,"name",{item:e.data})],544)],8,m)]),e.data.children?.length?((0,a.wg)(),(0,a.iD)("tr",x,[(0,a._)("td",{colspan:2*e.data.children?.length},y,8,w)])):(0,a.kq)("",!0),e.data.children?.length?((0,a.wg)(),(0,a.iD)("tr",k,[1===e.data.children.length?((0,a.wg)(),(0,a.iD)("td",D,S)):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(2*e.data.children.length,(t=>((0,a.wg)(),(0,a.iD)("td",{class:(0,g.C_)({"chart-line-left":t%2!==0,"chart-line-right":t%2===0,"chart-line-top":1!==t&&t!==2*e.data.children.length})},"  ",2)))),256))])):(0,a.kq)("",!0),e.data.children?.length?((0,a.wg)(),(0,a.iD)("tr",E,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.children,(n=>((0,a.wg)(),(0,a.iD)("td",j,[(0,a.Wm)(H,{data:n,onDragStart:s[5]||(s[5]=e=>t("dragStart",e)),onDropEvent:s[6]||(s[6]=e=>t("dropEvent",e)),parent:e.data},{name:(0,a.w5)((({item:e})=>[(0,a.Uk)((0,g.zw)(e.name),1)])),_:2},1032,["data","parent"])])))),256))])):(0,a.kq)("",!0)])]))}};const z=T;var H=z;function C(e,t,n="children"){return!!e&&e.some((e=>e===t||(n in e?C(e[n],t,n):void 0)))}const q=(0,a.uE)('<div class="hexagon" aria-label="Animated hexagonal ripples"><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div><div class="hexagon__group"><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div><div class="hexagon__sector"></div></div></div><p aria-label="Loading">Loading</p>',2);function A(e,t){return q}const F={},M=(0,i.Z)(F,[["render",A]]);var P=M,U={__name:"HomeView",setup(e){(0,a.bv)((()=>{p.dispatch("loadTreeStructure")}));const t=p.getters.getOrgStructure,n=(0,u.iH)(null),r=(0,u.iH)(null),o=({parent:e,data:t})=>{n.value=t,r.value=e},i=e=>{const t=!C(n.value.children,e,"children");t?n.value!==e&&p.commit("changeTreeElms",{elm:n.value,to:e,parentDragElm:r.value}):console.error("Нельзя вкладывать внутрь"),n.value=null,r.value=null};return(e,n)=>(0,u.SU)(t).length?((0,a.wg)(),(0,a.j4)(H,{key:0,data:(0,u.SU)(t)[0],onDragStart:o,onDropEvent:i},{name:(0,a.w5)((({item:e})=>[(0,a.Uk)((0,g.zw)(e.name),1)])),_:1},8,["data"])):((0,a.wg)(),(0,a.j4)(P,{key:1}))}};const L=U;var N=L;const Y=[{path:"/",name:"home",component:N}],I=(0,v.p7)({history:(0,v.PO)("/organization-chart/"),routes:Y});var K=I;(0,r.ri)(d).use(p).use(K).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],o=e[l][2];for(var s=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(l--,1);var d=a();void 0!==d&&(t=d)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],s=r[1],c=r[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var l=c(n)}for(t&&t(r);d<i.length;d++)o=i[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkorganization_chart"]=self["webpackChunkorganization_chart"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(6428)}));r=n.O(r)})();
//# sourceMappingURL=app.a917da55.js.map